
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RADIO ONLINE</title>
    <script src="https://kit.fontawesome.com/d21eb0851c.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.0.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/js/fontawesome.min.js"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP&family=Open+Sans&family=Roboto:wght@300;400&display=swap" rel="stylesheet">
    <style>
      @import url(https://fonts.googleapis.com/css2?family=Noto+Sans+JP&family=Open+Sans&family=Roboto:wght@300;400&display=swap);:root{--font-1:'Roboto',sans-serif;--font-2:'Noto San JP',sans-serif;--font-3:'Open Sans',sans-serif;--txt:#9C27B0;--icon:#495259}*{margin:0;padding:0;box-sizing:border-box;-webkit-user-select:none;user-select:none}:after,:before{content:'';position:absolute}body{background:radial-gradient(#333,#000);min-height:100vh;overflow:hidden}span{display:flex;justify-content:center;align-items:center}a{display:inline-block;text-decoration:none}.jasonPlayer,.jd-app{width:350px;height:520px;background:#24282f;color:var(--txt);font-family:var(--font-2);font-size:16px}.jasonPlayer{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);box-shadow:0 0 50px rgba(0,0,0,.6)}.jd-top{width:100%;height:36px;background:#1a1e22;padding:0 10px;display:flex}.jd-top span{width:20px;height:36px;display:flex}.jd-now-animate,.jd-nowplaying{width:100%;height:36px}.jd-nowplaying{overflow:hidden}.jd-now-animate{display:flex;text-shadow:310px 0 var(--txt);animation:mov_txt 15s linear infinite;position:relative;left:0}@keyframes mov_txt{100%{transform:translateX(-100%)}}.jd-now-animate>div{max-width:50%;height:36px;line-height:36px;font-size:.9rem}.jd-station{width:100%;height:30px;line-height:30px;text-align:center;padding:0 10px;color:#9C27B0;font-weight:700}.jd-box-cover{width:330px;height:235px;margin:0 auto;border-top:solid 1px #1c1e21;position:relative}.jd-cover,.jd-inner-cover{width:225px;height:225px;position:absolute}.jd-inner-cover{background:#121212;margin-top:8px;left:10px;box-shadow:0 0 5px rgba(0,0,0,.2);z-index:100}.jd-cover{background-image:url(https://i.imgur.com/IkI5F4B.png);background-size:cover}.jd-cover:after{width:100%;height:100%;background:linear-gradient(135deg ,transparent,rgba(255,255,255,.2) 50%,transparent 50.1%)}.jd-disc,.jd-disc-cover{width:205px;height:205px;position:absolute;border-radius:50%}.jd-disc{right:10px;top:18px;background:#121212;box-shadow:0 0 5px rgba(0,0,0,.3);animation:spin 5s linear infinite}.jd-disc-cover{background-image:url(https://i.imgur.com/IkI5F4B.png);background-size:cover}.jd-disc-cover:after{width:80px;height:80px;border-radius:50%;background:#111;top:calc(50% - 40px);left:calc(50% - 40px);box-shadow:0 0 0 20px #333 inset}@keyframes spin{100%{transform:rotate(360deg)}}.jd-server{width:330px;height:80px;display:flex;margin:10px;justify-content:space-between}.jd-controls{width:160px;display:flex}.jd-btn-play{width:80px;height:80px;background:linear-gradient(#0c0d0e,#3b3d42);border-radius:50%;padding:5px;margin-left:10px;color:var(--icon);transition:all .2s ease-out}.jd-btn-play span{width:70px;height:70px;border-radius:50%;background:linear-gradient(#f9f9fa,#a1b0be);box-shadow:0 0 2px rgba(0,0,0,.2);display:flex;font-size:1.4rem}.jd-btn-play:hover{color:var(--txt);cursor:pointer}.fa-play,.fa-stop{width:70px;height:70px;border-radius:50%;background:linear-gradient(#f9f9fa,#a1b0be);box-shadow:0 0 2px rgba(0,0,0,.2);display:flex;font-size:1.4rem}.jd-timing{width:80px;line-height:80px;padding-left:10px;color:#3f4551;font-weight:700;height:80px}.jd-serverinfor{width:170px;height:80px}.jd-station-infor{width:100%;height:20px;justify-content:flex-start;font-size:.7rem;text-transform:uppercase;color:#3f4551;border-bottom:solid 1px #1c1e21;line-height:19px;overflow:hidden}.jd-station-infor strong{color:var(--txt)}.jd-box-volume{width:330px;height:68px;display:flex;justify-content:space-between;align-items:center;margin:0 10px;border-top:solid 1px #1c1e21;border-bottom:solid 1px #1c1e21}.jd-box-volume span{width:22px;height:36px;display:flex;color:var(--icon)}.jd-volume{width:280px;height:36px;border-radius:18px;background:linear-gradient(#9C27B0,#1a1d23);position:relative}.jd-txt{position:absolute;width:100px;height:16px;text-transform:uppercase;color:#3f4551;text-align:center;top:-15px;left:90px;font-size:.7rem;line-height:16px}.jd-bar{width:255px;height:8px;position:absolute;border-radius:8px;background:linear-gradient(#232325,#393b40);top:calc(50% - 4px);left:12.5px}.jd-progress{width:50%;height:8px;border-radius:8px;background:#5cb6ca}.jd-slider{-webkit-appearance:none;-moz-appearance:none;width:255px;height:8px;position:absolute;top:calc(50% - 4px);left:12.5px;border-radius:8px;background:0 0;border:none;outline:0}.jd-slider::-webkit-slider-thumb{-webkit-appearance:none;width:18px;height:18px;background:#4a5259;border-radius:50%;box-shadow:0 0 0 5px #d5dbe1 inset,0 0 3px rgba(0,0,0,.4);border:none;outline:0;cursor:pointer}.jd-slider::-moz-range-thumb{-moz-appearance:none;width:18px;height:18px;background:#4a5259;border-radius:50%;box-shadow:0 0 0 5px #d5dbe1 inset,0 0 3px rgba(0,0,0,.4);border:none;outline:0;cursor:pointer}.jd-navigator{width:330px;height:36px;display:flex;align-items:center;justify-content:center;margin:6px 10px}.jd-btn,.jd-btn span{width:36px;height:36px;border-radius:50%;background:linear-gradient(#33373e,#21252c);display:flex;color:var(--icon);transition:all .2s ease-out}.jd-btn{margin:0 2.5px}.jd-btn:hover span{color:var(--txt)}
    </style>
</head>
<body>
    <div class="jasonPlayer" id="jason" data-tag=""></div>

    <script>
      !function($){$(".jasonPlayer").append("<div class='jd-app'><div class='jd-top'><span class='fas fa-microphone-alt'></span><div class='jd-nowplaying'><div class='jd-now-animate'><div class='jd-track-title'></div><div class='jd-track-artist'></div></div></div></div><div class='jd-station'></div><div class='jd-box-cover'><div class='jd-inner-cover'><div class='jd-cover'></div></div><div class='jd-disc'><div class='jd-disc-cover'></div></div></div><div class='jd-server'><div class='jd-controls'><div class='jd-btn-play'><span class='fas fa-play' id='btn-play'></span></div><div class='jd-timing'>00:00</div></div><div class='jd-serverinfor'><span class='jd-station-infor'>คนฟังสูงสุด: <strong class='jd-listener'>0</strong></span><span class='jd-station-infor'>คนฟัง: <strong class='jd-clistener'>0</strong></span><span class='jd-station-infor'>แนวเพลง: <strong class='jd-genre'></strong></span><span class='jd-station-infor'>บิทเรต: <strong class='jd-bitrate'>0</strong></span></div></div><div class='jd-box-volume'><span class='fas fa-volume-down'></span><div class='jd-volume'><div class='jd-txt'>ระดับเสียง</div><div class='jd-bar'><div class='jd-progress'></div></div><input type='range' min='0' max='100' value='50' class='jd-slider' id='volume'></div><span class='fas fa-volume-up'></span></div></div>"),$.fn.jasonPlayer=function(options){var config=$.extend({URL:"",stream_id:1,mount_point:"",type:"/;type=mp3",streampath:"/stream?icy=http",enable_cors:!1,cors:"https://shoutcastapps.herokuapp.com",artwork:!0,show_listener:!0,src:"",volume:.5,autoplay:!1},options),thisObj=this,audio;(audio=new Audio).preload="auto",audio.volume=config.volume,audio.id="audio",audio.crossOrigin="anonymous";var btnPlayPause=document.querySelector("#btn-play");function tooglePlying(objClass,bool){objClass.classList.toggle("btn-mov")}function onBtnClick(){audio.paused?(audio.src=config.src,audio.play(),btnPlayPause.classList.add("fa-stop"),btnPlayPause.classList.remove("fa-play"),console.log("Playing")):(audio.pause(),audio.src="",btnPlayPause.classList.remove("fa-stop"),btnPlayPause.classList.add("fa-play"),console.log("paused"))}$(".jd-cover",thisObj).css({"background-image":"url("+config.default_image+")","background-size":"cover"}),$(".jd-disc-cover",thisObj).css({"background-image":"url("+config.default_image+")","background-size":"cover"}),thisObj.each((function(){var dataURL,hisURL;if(1==config.autoplay&&(audio.autoplay=!0),ShareImplementaion(),1==config.version)audio.src=config.URL+"/;type=mp3",config.src=audio.src,getShoutcast(dataURL=config.cors+"?q="+config.URL+"/7.html",hisURL=config.cors+"?q="+config.URL+"/played.html");else if(2==config.version){if(audio.src=config.URL+config.streampath,config.src=audio.src,1==config.enable_cors)var dataURL=config.cors+"?q="+config.URL+"/stats?sid="+config.stream_id+"&json=1&callback=?",hisURL=config.cors+"?q="+config.URL+"?played?sid="+config.stream_id+"&type=json&callback=?";else var dataURL=config.URL+"/stats?sid="+config.stream_id+"&json=1&callback=?",hisURL=config.URL+"/played?sid="+config.stream_id+"&type=json&callback=?";getShoutcast(dataURL,hisURL)}else if("icecast"==config.version){var dataURL;audio.src=config.URL+"/"+config.mount_point,config.src=audio.src,getIcecast(dataURL=config.cors+"?q="+config.URL+"/status-json.xsl")}})),btnPlayPause.addEventListener("click",onBtnClick,!1),$(audio).on("playing",(function(){btnPlayPause.classList.add("fa-stop"),btnPlayPause.classList.remove("fa-play"),console.log("playing")})),$(audio).on("pause",(function(){btnPlayPause.classList.remove("fa-stop"),btnPlayPause.classList.add("fa-play"),console.log("paused")})),$(audio).on("timeupdate",(function(){$(".jd-timing",thisObj).text(getTime(this.currentTime))}));var btnVolume=document.querySelector(".jd-slider"),progress=document.querySelector(".jd-progress");function prepareArtist(artist){return artist=artist.toLowerCase(),(artist=$.trim(artist)).includes("&")?artist=artist.substr(0,artist.indexOf(" &")):artist.includes("feat")?artist=artist.substr(0,artist.indexOf(" feat")):artist.includes("ft.")&&(artist=artist.substr(0,artist.indexOf(" ft."))),artist}function prepareTitle(title){return title=title.toLowerCase(),(title=$.trim(title)).includes("&")?title=title.replace("&","and"):title.includes("(")?title=title.substr(0,title.indexOf(" (")):title.includes("ft")&&(title=title.substr(0,title.indexOf(" ft"))),title}function getShoutcast(url,history){if(1==config.version){function foo(){$.ajax({type:"GET",dataType:"html",url:url,success:function(data){var result=$.parseHTML(data)[1].data,songtitle=result.split(",")[6];if(songtitle!=getTag()){updateTag(songtitle);var songtitlesplit=songtitle.split("-"),artist=songtitlesplit[0],title=songtitlesplit[1];updateArtist(artist),updateTitle(title),updateServerInfor(result),1==config.artwork&&artistImage(artist,title)}},error:function(){console.log("Error gettings Metadata")}})}foo(),setInterval(foo,12e3)}else if(2==config.version){function foo(){$.ajax({dataType:"jsonp",url:url,success:function(result){if(result.songtitle!=getTag()){updateTag(result.songtitle);var songtitle,songtitlesplit=result.songtitle.split("-"),artist=songtitlesplit[0],title=songtitlesplit[1],servertitle=result.servertitle;updateArtist(artist),updateTitle(title),updateServerInfor(result),1==config.artwork&&artistImage(artist,title)}},error:function(){console.log("Error getting Metadata")}})}foo(),setInterval(foo,12e3)}}function getIcecast(url){if("icecast"==config.version){function foo(){$.ajax({dataType:"json",url:config.cors+"/?q="+config.URL+"/status-json.xsl",success:function(data){var result=findMountPointData(data);if(result.title!=getTag()){updateTag(result.title);var songtitle,songtitlesplit=result.title.split("-"),artist=songtitlesplit[0],title=songtitlesplit[1];updateArtist(artist),updateTitle(title),1==config.artwork&&artistImage(artist,title),updateServerInforIc(result)}},error:function(){console.log("Error getting Metadata")}})}foo(),setInterval(foo,12e3)}}function findMountPointData(data){if(void 0===data.icestats.source.legnth)return data.icestats.source;for(var i=0;i<data.icestats.source.length;i++){var str;if(data.icestats.source[i].listenurl.indexOf(config.mount_point)>=0)return data.icestats.source[i]}}function getTag(){return $(thisObj).attr("data-tag")}function updateTag(data){$(thisObj).attr("data-tag",data)}function updateArtist(name){$(".jd-track-artist",thisObj).attr("data-text",name).text(textShortener(" - "+name,30))}function updateTitle(name){$(".jd-track-title",thisObj).attr("data-text",name).text(name+" - ")}function artistImage(artist,title){artist=prepareArtist(artist),title=prepareTitle(title);var url="https://itunes.apple.com/search?term=="+(artist=encodeURI(artist))+"-"+(title=encodeURI(title))+"&media=music&limit=1";$.ajax({dataType:"jsonp",url:url,success:function(data){if(1==data.results.length)cover=(cover=data.results[0].artworkUrl100).replace("100x100","400x400");else var cover=config.default_image;$(".jd-cover",thisObj).css({"background-image":"url("+cover+")","background-size":"cover"}),$(".jd-disc-cover",thisObj).css({"background-image":"url("+cover+")","background-size":"cover"})},error:function(){console.log("Error on artist image "+encodeURI(title))}})}function updateServerInfor(result){if(1==config.version)$(".jd-station",thisObj).text(config.servertitle),$(".jd-listener",thisObj).text(result.split(",")[0]);else if(2==config.version){$(".jd-listener",thisObj).text(result.peaklisteners),$(".jd-clistener",thisObj).text(result.currentlisteners),$(".jd-station",thisObj).text(result.servertitle),$(".jd-bitrate",thisObj).text(result.bitrate);var list=[];Object.keys(result).forEach(key=>{/servergenre/.test(key)&&list.push(result[key]);for(var i=0;i<list.length;i++)""!==list[i]&&$(".jd-genre",thisObj).text(list[i])})}}function updateServerInforIc(data){$(".station",thisObj).text("Station: "+data.server_name),$(".listener",thisObj).text("Listener: "+data.listeners),$(".clistener",thisObj).text("CurrentListener: "+data.listener_peak),$(".genre",thisObj).text("Genre: "+data.genre),$(".bitrate",thisObj).text("Bitrate: "+data.ice-bitrate)}function textShortener(text,length){return text.length>length?text.substring(0,length-1)+"...":text}function getTime(value){if("Infinity"==value)return"live";var durmins=Math.floor(value/60),dursecs=Math.floor(value-60*durmins);return dursecs<10&&(dursecs="0"+dursecs),durmins<10&&(durmins="0"+durmins),durmins+":"+dursecs}function ShareImplementaion(){$("#facebook",thisObj).attr("href",config.facebook),$("#twitter",thisObj).attr("href",config.twitter),$("#instagram",thisObj).attr("href",config.instagram),$("#youtube",thisObj).attr("href",config.youtube),$("#apple",thisObj).attr("href",config.apple),$("#googlestore",thisObj).attr("href",config.googlestore)}btnVolume.addEventListener("input",(function(){audio.volume=parseInt(this.value,10)/100;var val=100*audio.volume,val=Math.round(val);progress.style.width=val+"%"}))}}(jQuery);
    </script>

    <script>
        $("#jason").jasonPlayer({
            URL: "https://panel.lannaradio.com:8020",
            version: "2",
            default_image: "https://i.imgur.com/IkI5F4B.png",
        });
    </script>
</body>
</html>
